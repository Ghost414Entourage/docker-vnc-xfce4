docker pull ubuntu:latest


docker run -it -p 6080:6080 -p 5900:5900 --name my-ubuntu-container ubuntu:latest bash -c "apt update && apt install -y xfce4 xfce4-goodies tightvncserver novnc websockify && vncserver :1 && websockify --web /usr/share/novnc/ 6080 localhost:5901"



docker run -it -p 6080:6080 -p 5900:5900 --name my-ubuntu-container ubuntu:latest bash -c "apt update && apt install -y xfce4 xfce4-goodies tightvncserver novnc websockify && vncserver :1 && websockify --web /usr/share/novnc/ 6080 localhost:5901 & tail -f /dev/null"





docker start my-ubuntu-container




docker exec -it my-ubuntu-container bash







apt update
apt install -y xfce4 xfce4-goodies tightvncserver novnc websockify











export USER=root





vncserver :1



websockify --web /usr/share/novnc/ 6080 localhost:5901 &






http://localhost:6080/vnc.html





apt-get update
apt-get install xfce4 tigervnc-standalone-server novnc websockify nginx




mv ~/.vnc/xstartup ~/.vnc/xstartup.bak












nano ~/.vnc/xstartup






#!/bin/bash

# Make sure that the SESSION_MANAGER environment variable is not set.
unset SESSION_MANAGER
# Launch Xfce in the foreground.
startxfce4 &






#!/bin/sh
xrdb $HOME/.Xresources
startxfce4 &





chmod +x ~/.vnc/xstartup


vncserver -kill :1




vncserver :1




websockify --web /usr/share/novnc/ 6080 localhost:5901 &







echo $DISPLAY


export DISPLAY=:1



export USER=root


echo $USER



vncserver -list



cat ~/.vnc/$(hostname):1.log











